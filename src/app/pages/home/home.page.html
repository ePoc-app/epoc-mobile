<ion-header mode="ios">
  <ion-toolbar>
    <div class="logo" slot="start">
      <ion-img src="assets/img/ePoc.svg"></ion-img>
    </div>
    <ion-button class="about" slot="end" routerLink="/about" routerDirection="forward">
      <ion-icon slot="icon-only" ios="ios-information-circle" md="ios-information-circle" color="inria-blue"></ion-icon>
    </ion-button>
  </ion-toolbar>
</ion-header>

<ion-content scroll-y="false">
  <div class="home-course">
    <ion-grid *ngIf="epoc$ | async as epoc">
      <ion-row>
        <ion-col>
          <div class="title-wrapper">
            <div class="title-container">
              <h3 class="title">{{epoc.title}}</h3>
              <div class="authors">
                <span *ngFor="let author of epoc.authors">{{author.name}}</span>
              </div>
            </div>
          </div>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <div class="trailer-course" (click)="togglePlay($event)">
            <video [src]="libraryService.rootFolder +  epoc.teaser" [poster]="epoc.image" controls controlslist="nodownload" disablePictureInPicture playsinline preload="metadata" (play)="play($event)" (pause)="pause($event)"></video>
            <img [src]="libraryService.rootFolder +  epoc.image" *ngIf="!hasPlayed"/>
          </div>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <a class="about-course" [routerLink]="'/player/about/'+epocId">
            <ion-text color="inria-blue">A propos de cette formation</ion-text>
            <ion-icon ios="md-arrow-dropright" md="md-arrow-dropright" color="inria-blue"></ion-icon>
          </a>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>

<ion-footer mode="ios">
  <ion-button class="start-course" [routerLink]="'/player/toc/'+epocId" routerDirection="forward" expand="block" color="inria-blue" strong>
    Commencer la formation
  </ion-button>
</ion-footer>
