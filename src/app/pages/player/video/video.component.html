<div class="video-card">
  <div class="video-player">
      <div class="video-container" [ngClass]="{'notPlayed':!hasPlayed}">
        <video #video controls controlslist="nodownload" disablePictureInPicture playsinline preload="metadata">
          <ng-container *ngFor="let sub of content.subtitles">
            <track kind="subtitles" [label]="sub.label" [srclang]="sub.lang" [src]="libraryService.rootFolder +  sub.src">
          </ng-container>
        </video>
        <img *ngIf="!hasPlayed" [src]="content.poster ? libraryService.rootFolder +  content.poster : 'assets/img/video-thumbnail.jpg'" (click)="play()"/>
      </div>

    <ion-item class="hidden-select">
      <ion-label>Sous-titres</ion-label>
      <ion-select #tracks [value]="trackSelected" (ionChange)='changeSubtitles($event)'>
        <ion-select-option value="none">Aucun</ion-select-option>
        <ion-select-option [value]="sub.lang" *ngFor="let sub of content.subtitles">{{sub.label}}</ion-select-option>
      </ion-select>
    </ion-item>

    <div class="video-actions">
      <div class="video-actions-left">
        <ion-icon name="logo-closed-captioning" (click)="captions()"></ion-icon>
      </div>
      <div class="video-actions-center">
        <ion-icon [name]="playing ? 'pause':'play'" (click)="play()"></ion-icon>
      </div>
      <div class="video-actions-right">
        <ion-icon name="expand" (click)="fullscreen()"></ion-icon>
      </div>
    </div>
  </div>

  <h4>Résumé</h4>

  <div class="video-summary">
    <p *ngIf="content.summary && content.summary.length > 0" [innerHTML]="content.summary"></p>
    <p *ngIf="!content.summary || content.summary.length <= 0">No summary.</p>
  </div>
</div>
